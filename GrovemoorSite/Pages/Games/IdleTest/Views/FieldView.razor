@using GrovemoorSite.Pages.Games.IdleTest.Components
@using GrovemoorSite.Pages.Games.IdleTest.Models

<h3>FieldView</h3>

<button @onclick="()=> Progress++">
    click
</button>
<div class="w-[25rem]">
    <ProgressBar Progress="@Progress"/>
</div>

@code {
    [Parameter]
    public Timer TickTimer { get; set; } = new();
    public int Progress { get; set; }

    protected override void OnParametersSet()
    {
        TickTimer.Elapsed += OnTick;
    }


    private void OnTick(object? source, ElapsedEventArgs e)
    {
        if(Progress >= 100)
        {
            Inventory.AddItem(ItemType.Seed);
            Progress = 0;
        }
        else Progress++;
    }
}
